<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/publi/style.css">
    <link rel="stylesheet" href="/client/css/media.css">
    

    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900">
    <link rel="stylesheet" href="https://unpkg.com/@mdi/font@6.x/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons">
    <link rel="stylesheet" href="https://unpkg.com/vuetify@2.6.10/dist/vuetify.min.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"></script>
    <script src="https://unpkg.com/babel-polyfill/dist/polyfill.min.js"></script>
    <script src="https://unpkg.com/vuetify@2.6.10/dist/vuetify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-confetti@0.9.0/dist/js-confetti.browser.js"></script>
    <link href="https://fonts.cdnfonts.com/css/bebas-neue" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollTrigger.js"></script>
    <script src="https://unpkg.com/split-type"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <script src="https://unpkg.com/vuejs-datepicker@1.6.2/dist/vuejs-datepicker.min.js"></script>

    <title>Project</title>
</head>

<body>
    <v-app id="app">
        <ul class="ul-parent">
            <h1 style="margin-top: 40px; font-size: 50px; font-weight: bold; font-family: 'Bebas Neue';">Comments</h1>
            <h4 style="font-size: 19px; font-weight: bold; font-family: 'Bebas Neue';">Num:{{publicacion_length}}</h4>
            <v-divider style="width: 80%; margin-top: 15px;"></v-divider>
            <li style="margin-top: 20px;" v-for="comentari in publicacion.comentaris">
                <v-avatar style="height: 30px; width: 30px;" class="avatar">
                    <img :src="comentari.user_img"  referrerpolicy="no-referrer"></v-img>
                </v-avatar>
                 <div><b>{{comentari.user}}</b>:</div> <div> {{comentari.coment_text}}</div>
            </li>
            <div  v-if="perfil != null" style="position: absolute; bottom: 1%; width: 80%;" class="add-comment">
                <v-divider style="width: 100%; margin-bottom: 15px;"></v-divider>
                <v-text-field v-model="comment" label="Add a comment"></v-text-field>
                <div style="display: flex; justify-content: center;">
                    <button @click="sendComment()" style=" background-color: #f3f3f3; padding: 8px 65px; border-radius: 3px;">Send</button>
                </div>
            </div>

            <div v-if="perfil == null" style="position: absolute; bottom: 1%; width: 80%;" class="add-comment">
                <v-divider style="width: 100%; margin-bottom: 15px;"></v-divider>
                <h4  style="text-align: center;font-size: 19px; font-weight: bold; color: #999999; font-family: 'Bebas Neue'; ">
                    <a style="color: black !important; text-decoration: none;"href="http://localhost:4000/sign/">Sign in</a> or 
                    <a style="color: black !important; text-decoration: none;"href="http://localhost:4000/register/">Sign up</a> <br> to post comments
                </h4>
                <div style="display: flex; justify-content: center; margin-top: 15px;">
                    <button  style=" background-color: #f3f3f3; color: black; padding: 8px 65px; border-radius: 3px;">Send</button>
                </div>
            </div>
        </ul>
        <div style="height: 100vh; width: 100%;">
            <v-container fluid class="container-flex" style="flex-direction: column;  flex-wrap: unset; align-items: center; justify-content: center;" fill-height dense>
                <div style="width: 65%;  display: flex; flex-direction: column;">
                        <div class="header-card" style="display: flex; flex-direction: row;">
                            <v-avatar style="    height: 48px;
                            min-width: 48px;
                            width: 48px;
                        " class="avatar">
                                <img :src="publicacion.user_img"  referrerpolicy="no-referrer"></v-img>
                            </v-avatar>
                            <div style="    display: flex;
                            align-items: center;
                            width: 13%; 
                            justify-content: center;" class="name-header"><a  style="color: black; text-decoration: none;" @click="showPerfil(publicacion.owner)">{{publicacion.owner}}</a></div>
                            <div style="    display: flex; margin-top: 20px;
                            align-items: center;
                            width: 100%;
                            justify-content: flex-end;
                            margin-right: 25px;
                        " class="share-header"><v-btn @click="tryShare()" value="share" style="box-shadow: none !important; background-color: transparent !important;"><v-icon>mdi-share</v-icon></v-btn></div>
                        </div>
                        <div style="margin-top: 10px;">{{publicacion.text}}</div>
                        <div style="height: 575px; border-radius: 15px;  overflow: hidden;">
                            
                                <img :src="'../'+ publicacion.url_img" style="border-radius: 6px;   width: 100%;
                                height: 100%; 
                                object-fit: cover;" referrerpolicy="no-referrer"></img>
                        
                        </div>
    
                        <v-bottom-navigation elevation="0">
                            <v-btn value="recent">
                                {{publicacion.likes}}<v-icon>mdi-heart</v-icon>
                            </v-btn>
                            <v-btn id="menu-toggle" value="favorites">
                                {{publicacion_length}}<v-icon id="icon-new">mdi-message</v-icon>
                            </v-btn>
                            <v-btn value="nearby">
                                <p></p><v-icon>mdi-send</v-icon>
                            </v-btn>
                        </v-bottom-navigation>

                </div>
            </v-container>
        </div>
    </v-app>
</body>
<script src="/publi/index.js"></script>
</html>